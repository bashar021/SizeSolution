<!DOCTYPE html>
<html lang="en">
<head>
    <title>Size Solution</title>
    <link rel="shortcut icon" href="images\title icon.png" type="image/png">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="image compresser , image size reduced ,compresser , size solution ,">
    <meta name="description" content="Solution for the large size images">
    <meta name="author" content="Bashar Alam">
    <style>
        #blur,#file_upload_btn{width:100%;height:100%}#blur,#loader{display:none;position:absolute}#blur,#loader,#logo,#upload_file_inp,.upload_container{position:absolute}body{background-image:url('images/IMAGE (6)-min.PNG');background-size:auto;background-repeat:no-repeat;overflow:auto}.upload_container{left:50%;top:15;transform:translate(-50%);width:50%;height:40%;text-align:center;margin-top:10%}.clear_btn,.dwonload_btn{margin-top:15%;border-style:none;margin-bottom:10%}#upload_file_inp{top:0;bottom:0;right:0;left:0;border-style:none;opacity:0!important;outline:0}#file_upload_btn{text-align:center;position:relative;background-color:rgba(255,255,255,.196);border-style:dashed;outline:0}.dwonload_btn{background-color:red;padding:1% 2%}input[type=range]{display:block;-webkit-appearance:none;background-color:#000;width:50%;height:5px;border-radius:5px;margin:3% auto;outline:0}#file_upload_title,.level_title,.upload_container h1{font-size:2vw}#original_size,#priview_size{color:#fff;margin:0;padding:3%;font-size:1.5vw}.clear_btn{background-color:green;padding:1% 4%}#original_size{background-color:rgba(255,255,255,.709)}#priview_size{background-color:rgba(249,244,244,.681)}#blur{backdrop-filter:blur(4px);top:0;left:0}#loader{border:.6vw solid #f3f3f3;border-radius:50%;border-top:.6vw solid #3498db;width:3vw;height:3vw;-webkit-animation:2s linear infinite spin;animation:2s linear infinite spin;top:40%;left:46%;transform:translate(-40%,-46%);z-index:1}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#logo{margin-bottom:0;margin-top:0;top:1%;left:3.5%;width:20%}@media screen and (max-width:700px){.font,.upload_container h1{font-size:100%}#logo{width:30%}.level_title{font-size:90%}.upload_container{height:30%;width:70%;top:10%}#loader{position:absolute;border:2vw solid #f3f3f3;border-radius:50%;border-top:2vw solid #3498db;width:8vw;height:8vw;left:42%;transform:translate(-42%)}.dwonload_btn{margin-top:25%}.clear_btn{padding:1% 8%}#original_size,#priview_size{font-size:3vw}}
    </style>
</head>
<body>
    
    <img id="logo" src="images/compress logo2.svg" alt="logo"> <div class="upload_container"> <h1 style="margin-top: 1%;">Image Compressor</h1> <button id="file_upload_btn" type="button"><img src="images/upload-image-icon.svg" width="10%" id="img_logo" style="margin-bottom: 2%;" alt="loading"> <br><span id="file_upload_title" class="font">Drag Your File Here</span> <form > <input id="upload_file_inp" type="file" placeholder="file"> </form> <div id="loader"></div><div id="blur"></div></button> <div id="images_cont" style="display: flex;height: 80%;margin-top: 0%;display: none;"> <div id="original_img_cont" style="width: 50%; background-color: black;height: 120%;overflow: hidden;"> <p id="original_size" ></p><img id="original_img" style="object-fit:cover;max-width:100vw;height:100vh" alt="loading"> </div><div id="priview_img_cont" style="width: 50%; background-color: black;height: 120%;overflow: hidden;"> <p id="priview_size" ></p></div></div><button id="dwonloadbtn" class="dwonload_btn"><a id="dwonload_link_btn" href="" style="text-decoration: none;color: black;" download>Dwonload</a></button> <button class="clear_btn" onclick="clear_file()">Clear</button> </div>
        <script >
           let MAX_WIDTH=320,MAX_HEIGHT=180;const mime_type="image/png",quality=.5,original_file_size=document.getElementById("original_size");let image_cont=document.getElementById("images_cont");const original_img_cont=document.getElementById("original_img_cont");let original_img=document.getElementById("original_img");const priview_img_cont=document.getElementById("priview_img_cont");let priview_size=document.getElementById("priview_size"),inputfile=document.getElementById("upload_file_inp"),download_btn=document.getElementById("dwonload_link_btn");const canvas=document.createElement("canvas");let loader=document.getElementById("loader"),file_upload_btn=document.getElementById("file_upload_btn"),blur_box=document.getElementById("blur");function calculateSize(c,d,e){let a=c.width,b=c.height;return a>b?a>MAX_WIDTH&&(b=Math.round(b*MAX_WIDTH/a),a=MAX_WIDTH):b>MAX_HEIGHT&&(a=Math.round(a*MAX_HEIGHT/b),b=MAX_HEIGHT),[a,b]}function display_image_information(a,b){let c=readableBytes(b.size),d=`${a} - ${c}`;return d}function readableBytes(a){let b=Math.floor(Math.log(a)/Math.log(1024));return(a/Math.pow(1024,b)).toFixed(2)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][b]}inputfile.onchange=function(c){loading(!0);let d=c.target.files[0],a=URL.createObjectURL(d),b=new Image;b.src=a,original_img.src=a,b.onload=function(){URL.revokeObjectURL(this.src);let[a,c]=calculateSize(b,MAX_WIDTH,MAX_HEIGHT);canvas.width=a,canvas.height=c;let e=canvas.getContext("2d");e.drawImage(b,0,0,a,c),loading(!1),document.getElementById("file_upload_btn").style.display="none",image_cont.style.display="block",image_cont.style.display="flex",priview_img_cont.append(canvas);let f=canvas.toDataURL(mime_type,.5);download_btn.href=f,download_btn.download=d.name,canvas.toBlob(a=>{original_file_size.innerHTML=display_image_information("Before",d),priview_size.innerHTML=display_image_information("After",a)},mime_type,.5)}};const clear_file=function(){inputfile.value="",image_cont.style.display="none",document.getElementById("file_upload_btn").style.display="block",original_img.setAttribute("src","");let a=canvas.getContext("2d");a.clearRect(0,0,canvas.width,canvas.height),loader.style.display="none",blur_box.style.display="none",download_btn.href=""},loading=function(a){blur_box.style.display="block",loader.style.display="block"}
        </script>
</body>
</html>
